(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,t,n){e.exports=n(145)},120:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},139:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),s=n(15),l=n.n(s),i=(n(120),n(11)),c=n.n(i),u=n(18),d=n(16),p=n(13),h=n(20),m=n(19),f=n(41),b=n(21),k=(n(122),n(97)),v=n(190),E=n(193),O=n(92),N=n(194),w=n(197),y=n(195),g=n(46),x=n.n(g),C=(n(75),n(185)),j=n(186),D=n(152),M=n(187),I=n(182),S=n(196),T=n(184),F=(n(123),function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).renderDivider=function(){return n.props.divider&&n.props.labels.length>0?o.createElement(I.a,{key:"divider",variant:"middle"}):null},n.renderLabels=function(){return n.props.labels.map(function(e,t){return o.createElement(S.a,{key:t,label:e})})},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.createElement("div",null,this.renderDivider(),o.createElement(T.a,{key:"labels",className:"labels"},o.createElement(D.a,{variant:"h6",component:"h6"},this.renderLabels())))}}]),t}(o.Component)),L=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleDelete=function(){n.props.deleteCallback(n.props.note.noteId)},n.handleEdit=function(){n.props.editCallback(n.props.note.noteId)},n.renderLabels=function(){return n.props.note.labels?r.a.createElement(F,{divider:!0,labels:n.props.note.labels}):null},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,{className:"text-note"},r.a.createElement(j.a,null,r.a.createElement(D.a,{color:"textSecondary",gutterBottom:!0},this.props.note.title),r.a.createElement(D.a,{variant:"h5",component:"h5"},this.props.note.text),this.renderLabels()),r.a.createElement(M.a,null,r.a.createElement(O.a,{size:"small",onClick:this.handleEdit},"Edit"),r.a.createElement(O.a,{size:"small",color:"secondary",onClick:this.handleDelete},"Delete"),r.a.createElement("div",{className:"timestamp"},x.a.unix(this.props.note.timestamp/1e3).format("DD-MM-YYYY HH:mm:ss"))))}}]),t}(r.a.Component),P=n(95),A=n(84),U=n(72),_=new(function(){function e(){Object(d.a)(this,e),this.listeners=[]}return Object(p.a)(e,[{key:"dispatch",value:function(e){this.listeners.filter(function(t){return t.type===e.type}).forEach(function(t){return t.handle(e)})}},{key:"register",value:function(e){this.listeners.push(e)}}]),e}()),B=window.USER_POOL_ID&&window.CLIENT_ID,R=new(function(){function e(){Object(d.a)(this,e),this.userPool=null,this.cognitoUser=null,B&&(this.userPool=new U.c({UserPoolId:window.USER_POOL_ID,ClientId:window.CLIENT_ID}))}return Object(p.a)(e,[{key:"isLoggedIn",value:function(){if(!B)return Promise.resolve(null);if(this.userPoolDefined()&&this.userPool){var e=this.userPool.getCurrentUser();if(e)return this.cognitoUser=e,new Promise(function(t,n){e.getSession(function(e,n){t({id:n.getIdToken().getJwtToken(),access:n.getAccessToken().getJwtToken(),refresh:n.getRefreshToken().getToken()})})})}return Promise.resolve(null)}},{key:"logIn",value:function(e,t){var n=new U.a({Username:e,Password:t});this.cognitoUser=new U.b({Pool:this.userPool,Username:e}),this.cognitoUser.authenticateUser(n,{onSuccess:function(e){_.dispatch({type:"LOG_IN"})},onFailure:function(e){alert(e.message),_.dispatch({type:"LOG_IN_FAIL"})}})}},{key:"logOut",value:function(){console.log(this),this.userPoolDefined()&&this.cognitoUser&&(this.cognitoUser.signOut(),_.dispatch({type:"LOG_OUT"}))}},{key:"register",value:function(e,t){if(this.userPool){this.userPool.signUp(e,t,[],[],function(e,t){e?(alert(e.message),_.dispatch({type:"REGISTER_FAIL"})):_.dispatch({type:"REGISTER"})})}}},{key:"userPoolDefined",value:function(){return null!==this.userPool}},{key:"authEnabled",value:function(){return B}}]),e}()),z=window.API_ENDPOINT,G=function(){function e(t){Object(d.a)(this,e),this.ok=void 0,this.ok=t}return Object(p.a)(e,null,[{key:"ok",value:function(){return new e(!0)}},{key:"error",value:function(){return new e(!1)}}]),e}(),Y=function(){function e(t,n){Object(d.a)(this,e),this.ok=void 0,this.response=void 0,this.ok=t,this.response=n}return Object(p.a)(e,null,[{key:"build",value:function(t,n){return new e(t,n)}}]),e}(),H=new(function(){function e(){Object(d.a)(this,e),this.fetchBody=function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(R.authEnabled()){e.next=2;break}return e.abrupt("return",Object(A.a)({headers:{}},t));case 2:return e.next=4,R.isLoggedIn();case 4:if(n=e.sent){e.next=10;break}return _.dispatch({type:"LOG_OUT"}),e.abrupt("return",Promise.resolve(null));case 10:return e.abrupt("return",Object(A.a)({headers:{Authorization:n.id}},t));case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}return Object(p.a)(e,[{key:"add",value:function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fetch,e.t1=z+"/notes",e.next=4,this.fetchBody({method:"POST",body:JSON.stringify(t)});case 4:return e.t2=e.sent,e.next=7,(0,e.t0)(e.t1,e.t2);case 7:if(!(n=e.sent).ok){e.next=12;break}return e.abrupt("return",G.ok());case 12:return e.next=14,n.json();case 14:return e.t3=e.sent,e.abrupt("return",{ok:!1,response:e.t3});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"edit",value:function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fetch,e.t1="".concat(z,"/notes/").concat(t.id),e.next=4,this.fetchBody({method:"PUT",body:JSON.stringify({title:t.title,text:t.text})});case 4:return e.t2=e.sent,e.next=7,(0,e.t0)(e.t1,e.t2);case 7:if(!(n=e.sent).ok){e.next=12;break}return e.abrupt("return",G.ok());case 12:return e.next=14,n.json();case 14:return e.t3=e.sent,e.abrupt("return",{ok:!1,response:e.t3});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addFile",value:function(){var e=Object(u.a)(c.a.mark(function e(t){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fetch,e.t1=z+"/notes/files",e.next=4,this.fetchBody({method:"POST",body:JSON.stringify({name:t.file.name})});case 4:return e.t2=e.sent,e.next=7,(0,e.t0)(e.t1,e.t2);case 7:if(!(n=e.sent).ok){e.next=22;break}return e.next=11,n.json();case 11:return a=e.sent,e.next=14,fetch(a.link,{method:"PUT",body:t.file});case 14:if(!e.sent.ok){e.next=19;break}return e.abrupt("return",G.ok());case 19:return e.abrupt("return",G.error());case 20:e.next=26;break;case 22:return e.next=24,n.json();case 24:return e.t3=e.sent,e.abrupt("return",{ok:!1,response:e.t3});case 26:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"listAll",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fetch,e.t1=z+"/notes",e.next=4,this.fetchBody({method:"GET"});case 4:return e.t2=e.sent,e.next=7,(0,e.t0)(e.t1,e.t2);case 7:if(!(t=e.sent).ok){e.next=16;break}return e.t3=Y,e.next=12,t.json();case 12:return e.t4=e.sent,e.abrupt("return",e.t3.build.call(e.t3,!0,e.t4));case 16:return e.abrupt("return",G.error());case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(u.a)(c.a.mark(function e(t){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fetch,e.t1=z+"/notes/"+t,e.next=4,this.fetchBody({method:"DELETE"});case 4:return e.t2=e.sent,e.next=7,(0,e.t0)(e.t1,e.t2);case 7:return n=e.sent,e.abrupt("return",n.ok?G.ok():G.error());case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"downloadFile",value:function(){var e=Object(u.a)(c.a.mark(function e(t){var n,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fetch,e.t1=z+"/notes/files/"+t,e.next=4,this.fetchBody({method:"GET"});case 4:return e.t2=e.sent,e.next=7,(0,e.t0)(e.t1,e.t2);case 7:if(!(n=e.sent).ok){e.next=15;break}return e.next=11,n.json();case 11:return a=e.sent,e.abrupt("return",Y.build(!0,a.link));case 15:return e.next=17,n.json();case 17:return e.t3=e.sent,e.abrupt("return",{ok:!1,response:e.t3});case 19:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}());!function(e){e.TEXT="TEXT",e.FILE="FILE",e.IMAGE="IMAGE"}(a||(a={}));var J=n(100),q=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).closeCallback=function(){n.props.closeCallback()},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return o.createElement(J.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.props.opened,autoHideDuration:6e3,onClose:this.closeCallback,onExited:this.closeCallback,message:o.createElement("span",null,this.props.message)})}}]),t}(o.Component),K=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleDelete=function(){n.props.deleteCallback(n.props.note.noteId)},n.handleDownload=Object(u.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.downloadFile(n.props.note.noteId);case 2:(t=e.sent).ok&&((a=document.createElement("a")).href=t.response,a.target="_blank",document.body.append(a),a.click());case 4:case"end":return e.stop()}},e)})),n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,{className:"text-note"},r.a.createElement(j.a,null,r.a.createElement(D.a,{color:"textSecondary",gutterBottom:!0},this.props.note.title),r.a.createElement(D.a,{variant:"h6",component:"h6"},"File size: ",this.props.note.size/1e3," KB"),r.a.createElement(O.a,{color:"secondary",onClick:this.handleDownload},"Download")),r.a.createElement(M.a,null,r.a.createElement(O.a,{size:"small",color:"secondary",onClick:this.handleDelete},"Delete"),r.a.createElement("div",{className:"timestamp"},x.a.unix(this.props.note.timestamp/1e3).format("DD-MM-YYYY HH:mm:ss"))))}}]),t}(r.a.Component),X=(n(139),function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).renderImage=function(){return n.state.link?r.a.createElement("img",{src:n.state.link,alt:n.props.note.title}):null},n.handleDelete=function(){n.props.deleteCallback(n.props.note.noteId)},n.renderLabels=function(){return n.props.note.labels?r.a.createElement(F,{divider:!0,labels:n.props.note.labels}):null},n.handleDownload=Object(u.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.downloadFile(n.props.note.noteId);case 2:(t=e.sent).ok&&((a=document.createElement("a")).href=t.response,a.target="_blank",document.body.append(a),a.click());case 4:case"end":return e.stop()}},e)})),n.state={},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.downloadFile(this.props.note.noteId);case 2:(t=e.sent).ok&&this.setState({link:t.response});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(C.a,{className:"text-note image-note"},r.a.createElement(j.a,null,r.a.createElement(D.a,{color:"textSecondary",gutterBottom:!0},this.props.note.title),r.a.createElement("div",{className:"preview"},this.renderImage()),r.a.createElement(D.a,{variant:"h6",component:"h6"},"File size: ",this.props.note.size/1e3," KB"),r.a.createElement(O.a,{color:"secondary",onClick:this.handleDownload},"Download"),this.renderLabels()),r.a.createElement(M.a,null,r.a.createElement(O.a,{size:"small",color:"secondary",onClick:this.handleDelete},"Delete"),r.a.createElement("div",{className:"timestamp"},x.a.unix(this.props.note.timestamp/1e3).format("DD-MM-YYYY HH:mm:ss"))))}}]),t}(r.a.Component)),Q=n(191),V=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleTextField=function(e){var t=n.state;t[e.target.name]=e.target.value,n.setState(t)},n.handleOkCallback=function(){n.props.okCallback({title:n.state.title,text:n.state.text,id:n.props.note?n.props.note.noteId:void 0})},n.state={title:"",text:""},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){!e.note&&this.props.note?this.setState({title:this.props.note.title,text:this.props.note.text}):e.opened!==this.props.opened&&this.setState({title:"",text:""})}},{key:"render",value:function(){return o.createElement(E.a,{onBackdropClick:this.props.closeCallback,open:this.props.opened,onClose:this.props.closeCallback},o.createElement("div",{className:"modal"},o.createElement(Q.a,{id:"standard-name",name:"title",label:"Title",value:this.state.title,onChange:this.handleTextField}),o.createElement(Q.a,{label:"New note",margin:"dense",variant:"outlined",name:"text",value:this.state.text,onChange:this.handleTextField,multiline:!0,rowsMax:"100"}),o.createElement("div",null,o.createElement(O.a,{onClick:this.props.closeCallback,variant:"contained",color:"secondary"},"Cancel"),o.createElement(O.a,{variant:"contained",color:"primary",onClick:this.handleOkCallback},this.props.edit?"Edit":"Add"))))}}]),t}(o.Component),W=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).queryNotes=Object(u.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.listAll();case 2:(t=e.sent).ok?(a=t.response.elements,n.setState({notes:a})):n.setState({notes:[]});case 4:case"end":return e.stop()}},e)})),n.openDeleteNoteModal=function(e){n.setState({noteToDeleteId:e,deleteNoteModalOpen:!0})},n.closeDeleteNoteModal=function(){n.setState({deleteNoteModalOpen:!1})},n.handleDeleteNote=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.noteToDeleteId){e.next=5;break}return e.next=3,H.delete(n.state.noteToDeleteId);case 3:e.sent.ok?(n.setState({deleteNoteConfirmationOpen:!0,deleteNoteModalOpen:!1,notes:[]}),n.queryNotes()):console.log("Could not delete note");case 5:case"end":return e.stop()}},e)})),n.closeConfirmationDeleteNote=function(){n.setState({deleteNoteConfirmationOpen:!1})},n.openEditNoteModal=function(e){var t=n.state.notes.find(function(t){return t.noteId===e});t&&n.setState({noteToEdit:t,editNoteModalOpen:!0})},n.handleEditNote=function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.edit(t);case 2:e.sent.ok?(n.setState({editNoteModalOpen:!1,noteToEdit:void 0,notes:[]}),n.queryNotes()):console.log("Could not edit note");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.closeEditNote=function(){n.setState({noteToEdit:void 0,editNoteModalOpen:!1})},n.renderNote=function(e){return e.type===a.FILE?r.a.createElement(K,{note:e,deleteCallback:n.openDeleteNoteModal}):e.type===a.IMAGE?r.a.createElement(X,{note:e,deleteCallback:n.openDeleteNoteModal}):r.a.createElement(L,{note:e,deleteCallback:n.openDeleteNoteModal,editCallback:n.openEditNoteModal})},n.renderNotes=function(){return n.state.notes.length>0?n.state.notes.map(function(e,t){return r.a.createElement(P.a,{key:t,item:!0,lg:4},n.renderNote(e))}):r.a.createElement("div",null)},n.state={notes:[],moreNotes:!1,editNoteModalOpen:!1,deleteNoteModalOpen:!1,deleteNoteConfirmationOpen:!1},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.queryNotes();var e=this;_.register({type:"refresh_notes",handle:function(){e.setState({notes:[]}),e.queryNotes()}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(P.a,{container:!0,spacing:3},this.renderNotes()),r.a.createElement(E.a,{onBackdropClick:this.closeDeleteNoteModal,open:this.state.deleteNoteModalOpen,onClose:this.closeDeleteNoteModal},r.a.createElement("div",{className:"modal"},r.a.createElement("p",null,"Are you sure you want to delete this note?"),r.a.createElement("div",null,r.a.createElement(O.a,{onClick:this.closeDeleteNoteModal,variant:"contained",color:"primary"},"Cancel"),r.a.createElement(O.a,{variant:"contained",color:"secondary",onClick:this.handleDeleteNote},"Delete")))),r.a.createElement(V,{opened:this.state.editNoteModalOpen,edit:!0,note:this.state.noteToEdit,okCallback:this.handleEditNote,closeCallback:this.closeEditNote}),r.a.createElement(q,{message:"Note successfully deleted",opened:this.state.deleteNoteConfirmationOpen,closeCallback:this.closeConfirmationDeleteNote}))}}]),t}(r.a.Component),Z=n(106),$=n.n(Z),ee=n(107),te=n.n(ee),ne=n(102),ae=n(108),oe=(n(98),n(50)),re=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleTextField=function(e){var t=n.state;t[e.target.name]=e.target.value,n.setState(t)},n.handleLogIn=function(){""!==n.state.email&&""!==n.state.password&&R.logIn(n.state.email,n.state.password)},n.closeRegistrationConfirmation=function(){n.setState({registeredNotification:!1})},n.state={email:"",password:"",registeredNotification:!1},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(ae.a,{className:"login"},r.a.createElement("p",null,"Log in:"),r.a.createElement(Q.a,{id:"standard-name",name:"email",onChange:this.handleTextField,value:this.state.email,label:"E-mail"}),r.a.createElement(Q.a,{id:"standard-name",name:"password",onChange:this.handleTextField,value:this.state.password,label:"Password",type:"password"}),r.a.createElement("div",{className:"action-button"},r.a.createElement(O.a,{color:"primary",onClick:this.handleLogIn},"Log In")),r.a.createElement("div",{className:"link"},r.a.createElement(oe.b,{to:"/register"},"Register")),r.a.createElement(q,{message:"New user registered",opened:this.state.registeredNotification,closeCallback:this.closeRegistrationConfirmation}))}}]),t}(r.a.Component),se=n(40),le=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleTextField=function(e){var t=n.state;t[e.target.name]=e.target.value,n.setState(t)},n.handleRegister=function(){""!==n.state.email&&""!==n.state.password&&R.register(n.state.email,n.state.password)},n.state={email:"",password:"",registered:!1},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;_.register({type:"REGISTER",handle:function(t){alert("Registration complete. Please verify you account via link sent in email"),e.setState({registered:!0})}})}},{key:"render",value:function(){return this.state.registered?r.a.createElement(se.a,{to:"/"}):r.a.createElement(ae.a,{className:"login"},r.a.createElement("p",null,"Register new user:"),r.a.createElement(Q.a,{id:"standard-name",name:"email",onChange:this.handleTextField,value:this.state.email,label:"E-mail"}),r.a.createElement(Q.a,{id:"standard-name",name:"password",onChange:this.handleTextField,value:this.state.password,label:"Password",type:"password"}),r.a.createElement("div",{className:"action-button"},r.a.createElement(O.a,{color:"primary",onClick:this.handleRegister},"Register")),r.a.createElement("div",{className:"link"},r.a.createElement(oe.b,{to:"/"},"Log in")))}}]),t}(r.a.Component),ie=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).actions=void 0,n.openNewNoteModal=function(){n.setState({newNoteModalOpen:!0,menuOpen:!1})},n.closeNewNoteModal=function(){n.setState({newNoteModalOpen:!1})},n.handleNewNote=function(){var e=Object(u.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.add(t);case 2:e.sent.ok&&(_.dispatch({type:"refresh_notes"}),n.setState({confirmationNewNoteAdded:!0,newNoteModalOpen:!1}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n.openUploadFileModal=function(){n.setState({uploadFileModalOpen:!0,menuOpen:!1})},n.closeUploadFileModal=function(){n.setState({uploadFileModalOpen:!1})},n.handleClick=function(){n.setState(function(e){return{menuOpen:!e.menuOpen}})},n.handleClose=function(){n.setState({menuOpen:!1})},n.handleDropzone=function(e){n.setState({files:e})},n.closeConfirmationNewNoteAdded=function(){n.setState({confirmationNewNoteAdded:!1})},n.handleNewFileNote=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===n.state.files.length){e.next=11;break}return e.prev=1,e.next=4,H.addFile({file:n.state.files[0]});case 4:e.sent.ok&&(n.setState({confirmationNewNoteAdded:!0,uploadFileModalOpen:!1}),setTimeout(function(){_.dispatch({type:"refresh_notes"})},5e3)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])})),n.exitButton=function(){return r.a.createElement(k.a,{className:"exit-btn",color:"secondary","aria-label":"Exit",onClick:function(){return R.logOut()}},r.a.createElement(v.a,null,"exit_to_app"))},n.renderNotes=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-container"},n.exitButton(),r.a.createElement(N.a,{className:"new-note-btn",ariaLabel:"SpeedDial example",hidden:n.state.hidden,icon:r.a.createElement(w.a,null),onClick:n.handleClick,onClose:n.handleClose,open:n.state.menuOpen,direction:"up"},n.actions.map(function(e){return r.a.createElement(y.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:e.action})}))),r.a.createElement(W,null),r.a.createElement(V,{opened:n.state.newNoteModalOpen,edit:!1,okCallback:n.handleNewNote,closeCallback:n.closeNewNoteModal}),r.a.createElement(E.a,{onBackdropClick:n.closeUploadFileModal,open:n.state.uploadFileModalOpen,onClose:n.closeUploadFileModal},r.a.createElement("div",{className:"modal"},r.a.createElement("p",null,"Upload new file:"),r.a.createElement("div",{className:"dropzone"},r.a.createElement(ne.DropzoneArea,{filesLimit:1,maxFileSize:512e3,onChange:n.handleDropzone.bind(Object(f.a)(n))})),r.a.createElement("div",null,r.a.createElement(O.a,{onClick:n.closeUploadFileModal,variant:"contained",color:"secondary"},"Cancel"),r.a.createElement(O.a,{variant:"contained",color:"primary",onClick:n.handleNewFileNote},"Add")))),r.a.createElement(q,{message:"New note added",opened:n.state.confirmationNewNoteAdded,closeCallback:n.closeConfirmationNewNoteAdded}))},n.state={newNoteModalOpen:!1,uploadFileModalOpen:!1,deleteNoteModalOpen:!1,confirmationNewNoteAdded:!1,menuOpen:!1,hidden:!1,files:[],loggedIn:!1},n.actions=[{icon:r.a.createElement($.a,null),name:"New note",action:n.openNewNoteModal},{icon:r.a.createElement(te.a,null),name:"New file",action:n.openUploadFileModal}],n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,e.t0=this,!R.authEnabled()){e.next=9;break}return e.next=5,R.isLoggedIn();case 5:e.t2=e.sent,e.t1=null!==e.t2,e.next=10;break;case 9:e.t1=!0;case 10:e.t3=e.t1,e.t4={loggedIn:e.t3},e.t0.setState.call(e.t0,e.t4),_.register({type:"LOG_IN",handle:function(e){t.setState({loggedIn:!0})}}),_.register({type:"LOG_OUT",handle:function(e){t.setState({loggedIn:!1})}});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loggedIn?this.renderNotes():r.a.createElement(oe.a,null,r.a.createElement(se.b,{exact:!0,path:"/",component:re}),r.a.createElement(se.b,{path:"/register",component:le}))}}]),t}(r.a.Component);l.a.render(r.a.createElement(ie,null),document.getElementById("root"))},75:function(e,t,n){},98:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.b22776bb.chunk.js.map